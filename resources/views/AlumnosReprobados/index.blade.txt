<div class="col-md-6">
            <div class="form-group">
                <label for="semestre">Filtrar por semestre:</label>
                <select name="semestre" id="semestre" class="form-control">

@can('crear-rol')

@extends('layouts.app')

@section('content')

<section class="section">
  <div class="section-header">
      <h3 class="page__heading">Alumnos Reprobados</h3>
      <div class="card-body">
        <h4>Bienvenido . {{ auth()->user()->name }} {{ auth()->user()->email }} </h4>
     </div>
  </div>
  <form method="GET" action="{{ route('AlumnosReprobados.index') }}">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="carrera">Filtrar por Carrera:</label>
                <select name="carrera" id="carrera" class="form-control">
                <option value="">Todos los carreras</option>
                @foreach ($carreras as $carrera)
                
                <option value="{{ $carrera->IdCarreras }}" {{ $filtroCarrera == $carrera->IdCarreras ? 'selected' : '' }}>{{ $carrera->NombreCarrera }}</option>
            @endforeach
                </select>
            </div>
        </div>
        
    </div>
    <div class="row">
        <div class="col-md-12">
            <button type="submit" class="btn btn-primary">Filtrar</button>
            <button id="btnPrint" onclick="printTable()" class="btn btn-dark">Imprimir tabla</button>
        </div>
    </div>
</form>
      <div class="section-body">
          <div class="row">
              <div class="col-lg-12">
                  <div class="card">
                      <div class="card-body">
                            <table id="tabla_datos" class="table table-striped mt-2">
                                <tr style="background-color:#18316B"> 
                                     <th style="color:#fff: ;">Alumno</th> <!--Nombre de columnas -->
                                     <th style="color:#fff;">Materia</th>
                                     <th style="color:#fff;">U1</th>
                                     <th style="color:#fff;">U2</th>
                                     <th style="color:#fff;">U3</th>
                                     <th style="color:#fff;">U4</th>
                                     <th style="color:#fff;">U5</th>
                                     <th style="color:#fff;">U6</th>
                                     <th style="color:#fff;">U7</th>
                                     <th style="color:#fff;">U8</th>
                                     <th style="color:#fff;">U9</th>
                                     <th style="color:#fff;">U10</th>
                                     <th style="color:#fff;">U11</th>
                                     <th style="color:#fff;">U12</th>
                                     <th style="color:#fff;">Maestro</th>
                                     <th style="color:#fff;">Semestre</th>
                                     <th style="display: ;">Año Semestre</th>
                                     <th style="display: ;">Carrera</th>
                                     <th style="display: ;">Turno</th>
                                     <th style="display: ;">Salon</th>
                                </tr>
                                <tbody>
                                    @foreach ($alumnoReprobados as $alumnoReprobado) {{--foreach a nivel de vista  --}}
                                    
                                    <tr>
                                        <td>{{ $alumnoReprobado->nombre_alumno }}</td>
                                        <td>{{ $alumnoReprobado->nombre_materia }}</td>
                                            <td>{{ $alumnoReprobado->U1 }}</td>
                                            <td>{{ $alumnoReprobado->U2 }}</td>
                                            <td>{{ $alumnoReprobado->U3 }}</td>
                                            <td>{{ $alumnoReprobado->U4 }}</td>
                                            <td>{{ $alumnoReprobado->U5 }}</td>
                                            <td>{{ $alumnoReprobado->U6 }}</td>
                                            <td>{{ $alumnoReprobado->U7 }}</td>
                                            <td>{{ $alumnoReprobado->U8 }}</td>
                                            <td>{{ $alumnoReprobado->U9 }}</td>
                                            <td>{{ $alumnoReprobado->U10}}</td>
                                            <td>{{ $alumnoReprobado->U11 }}</td>
                                            <td>{{ $alumnoReprobado->U12 }}</td>
                                        
                                        <td>{{ $alumnoReprobado->Maestro}}</td>
                                        <td>{{ $alumnoReprobado->Semester  }}</td>
                                        <td>{{ $alumnoReprobado->Añosemestre }}</td>
                                        <td>{{ $alumnoReprobado->nombre_carrera }}</td>
                                        <td>{{ $alumnoReprobado->turno }}</td>
                                        <td>{{ $alumnoReprobado->salon }}</td>
                                        
                                    </tr>{{-- y las tr son para las filas --}}
                                    
                                    @endforeach
                                </tbody>
                            </table> 
                            @section('scripts')
                                            <script>
                                                function printTable()
            {
                var table = document.getElementById("tabla_datos");

                var printWindow = document.createElement('iframe');
                printWindow.style.position = 'absolute';
                printWindow.style.top = '-10000px';
                printWindow.style.left = '-10000px';

                document.body.appendChild(printWindow);

                printWindow.contentDocument.write('<html><head><title>Imprimir tabla</title>');
                printWindow.contentDocument.write('</head><body>');
                printWindow.contentDocument.write('<style media="print">.no-print { display: none; }</style>');
                printWindow.contentDocument.write(table.outerHTML);
                printWindow.contentDocument.write('</body></html>');

                printWindow.contentWindow.print();

                setTimeout(function () 
                { 
                    document.body.removeChild(printWindow);
                }, 1000);
            }
                                            </script>
                                            @endsection
                            <div class="pagination justify-content-end">
                            {!! $alumnoReprobados->links() !!}
                          </div>  
                          <div class="mt-3">
                            <button type="button" class="btn btn-primary" onclick="window.location='{{ route('Formatos.index') }}'">Anexo 15 Casos Especiales 2021</button>
                            <button type="button" class="btn btn-primary" onclick="window.location='{{ route('FormatoAnexo19.index') }}'">Anexo 19 Reporte semestral</button>
                            <button type="button" class="btn btn-primary" onclick="window.location='{{ route('FormatoAnexo19Mensual.index') }}'">Anexo 19 Reporte mensual</button>
                            <button type="button" class="btn btn-primary" onclick="window.location='{{ route('Archivos.index') }}'">Reportes alumnos Anexo 14</button>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
    </section>
@endsection
@endcan